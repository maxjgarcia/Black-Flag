---
import Layout from "../layouts/Layout.astro";
import { getPlayers } from "../lib/appwrite";

const players = await getPlayers();
console.log(players)
---

<Layout title="Black Flag Gaming | Jugadores">

    

    <h1 class="text-center text-3xl mb-16 mt-12">Players</h1>
    
    <h3 class="text-lg ">Coaches</h3>
    
    <section class="grid grid-cols-3 mb-20 border-t-2 border-cyan-200">

        {players.filter(player => player.type === 'coach').map(player => {
            const { name, image } = player;
            
            return (
                <div class="flex flex-col my-4 ">

                     <div class=" flex flex-row">
                        <span class="text-lg font-semibold px-4">{name}</span>
                    </div>

                    <div>  
                        <a href={`/players/${name}`} class="">
                            <img class="mr-5 w-80 h-[400px] rounded grayscal-0 hover:grayscale faded" src={image} alt={`Imagen de ${name}`} transition:name={`${name}`}/> 
                        </a>
                    </div>
                    
                   
                </div>
            )
        })}
    </section>

    <h3 class="text-lg">Players</h3>

    <section class="grid grid-cols-3 mb-20 border-t-2 border-cyan-200">

        {players.filter(player => player.type === 'player').map(player => {
            const { name, image } = player;
            
            return (
                <div class="flex flex-col my-4">

                    <div class=" flex flex-row">
                        <span class="text-lg font-bold px-4">{name}</span>
                    </div>

                    <div>  
                        <a href={`/players/${name}`} class="">
                            <img class="mr-5 w-80 h-[400px] rounded grayscal-0 hover:grayscale faded" src={image} alt={`Imagen de ${name}`} transition:name={`${name}`}/> 
                        </a>
                    </div>
                    
                </div>
            )
        })}
    </section>


</Layout>


